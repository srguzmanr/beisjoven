<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <!-- SEO -->
    <title>Beisjoven - La Revista Digital de B√©isbol y Softbol Mexicano</title>
    <meta name="description" content="Cobertura editorial del b√©isbol y softbol mexicano. MLB, LMB, LMP, Selecci√≥n M√©xico, Softbol y m√°s.">
    <meta name="keywords" content="beisbol, softbol, M√©xico, LMB, MLB, LMP, Liga Mexicana, Liga Mexicana del Pac√≠fico, noticias deportivas, selecci√≥n mexicana, b√©isbol mexicano">
    <meta name="author" content="Beisjoven">
    <link rel="canonical" href="https://beisjoven.com/">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://beisjoven.com/">
    <meta property="og:title" content="Beisjoven - La Revista Digital de B√©isbol y Softbol Mexicano">
    <meta property="og:description" content="Cobertura editorial del b√©isbol y softbol mexicano. MLB, LMB, LMP, Selecci√≥n M√©xico, Softbol y m√°s.">
    <meta property="og:image" content="https://yulkbjpotfmwqkzzfegg.supabase.co/storage/v1/object/public/imagenes/beisjoven-og-image.jpg">
    <meta property="og:site_name" content="Beisjoven">
    <meta property="og:locale" content="es_MX">
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Beisjoven - La Revista Digital de B√©isbol y Softbol Mexicano">
    <meta name="twitter:description" content="Cobertura editorial del b√©isbol y softbol mexicano. MLB, LMB, LMP, Selecci√≥n M√©xico, Softbol y m√°s.">
    <meta name="twitter:image" content="https://yulkbjpotfmwqkzzfegg.supabase.co/storage/v1/object/public/imagenes/beisjoven-og-image.jpg">
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "NewsMediaOrganization",
        "name": "Beisjoven",
        "url": "https://beisjoven.com",
        "description": "La revista digital de referencia para el b√©isbol y softbol mexicano.",
        "logo": "https://beisjoven.com/favicon-32x32.png",
        "sameAs": [
            "https://facebook.com/beisjoven",
            "https://instagram.com/beisjoven",
            "https://twitter.com/beisjoven"
        ],
        "publisher": {
            "@type": "Organization",
            "name": "Beisjoven"
        }
    }
    </script>
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1RE839J27Q"></script>
    <script>
        if (window.location.pathname.startsWith('/admin') || window.location.pathname === '/login') {
            window['ga-disable-G-1RE839J27Q'] = true;
        }
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1RE839J27Q');
    </script>
    <!-- GitHub Pages SPA redirect handler -->
    <script>
        (function(l) {
            if (l.search[1] === '/' ) {
                var decoded = l.search.slice(1).split('&').map(function(s) {
                    return s.replace(/~and~/g, '&')
                }).join('?');
                window.history.replaceState(null, null,
                    l.pathname.slice(0, -1) + decoded + l.hash
                );
            }
        }(window.location))
    </script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Styles -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="stylesheet" href="/css/envivo.css">
    <link rel="stylesheet" href="/css/dark-mode.css">
    <link rel="stylesheet" href="/css/wbc-hub.css">
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar" id="public-header">
        <div class="container">
            <span id="current-date"></span>
            <div>
                <a href="#" onclick="Router.navigate('/login'); return false;">Admin</a>
                <a href="/newsletter">Suscr√≠bete</a>
                <a href="/contacto">Contacto</a>
            </div>
        </div>
    </div>
    <!-- Header -->
    <header id="main-header">
        <div class="header-main">
            <div class="container">
                <a href="/" class="logo">
                    <img src="/BJ-Logo-H2-WEB.png" alt="Beisjoven Media" class="logo-img">
                </a>
                <form class="search-box" onsubmit="handleSearch(event)">
                    <input type="text" id="header-search" placeholder="Buscar noticias..." aria-label="Buscar noticias">
                    <button type="submit" aria-label="Buscar">Buscar</button>
                </form>
            </div>
        </div>
        <!-- Navigation -->
        <nav>
            <div class="container">
                <ul>
                    <li><a href="/" class="active">Inicio</a></li>
                    <li><a href="/categoria/mlb">MLB</a></li>
                    <li><a href="/categoria/liga-mexicana">Ligas Mexicanas</a></li>
                    <li><a href="/categoria/seleccion">Selecci√≥n</a></li>
                    <li><a href="/categoria/softbol">Softbol</a></li>
                    <li><a href="/categoria/juvenil">Juvenil</a></li>
                    <!-- WBC 2026 ‚Äî oculto hasta HUB_WBC_LIVE = true -->
                    <li id="nav-wbc" style="display:none">
                        <a href="/wbc-2026" style="color:#f59e0b;font-weight:700;">‚öæ WBC 2026</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <!-- Main Content (din√°mico) -->
    <main id="main-content">
        <div class="loader">
            <div class="loader-spinner"></div>
            <p>Cargando...</p>
        </div>
    </main>
    <!-- Footer -->
    <footer id="main-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <h3>BEISJOVEN</h3>
                    <p>Tu fuente #1 de noticias de beisbol y softbol en M√©xico. Cobertura completa de las Ligas Mexicanas, MLB, selecciones nacionales y m√°s.</p>
                    <div class="social-links">
                        <a href="https://facebook.com/beisjoven" target="_blank" rel="noopener" aria-label="Facebook"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>
                        <a href="https://instagram.com/beisjoven" target="_blank" rel="noopener" aria-label="Instagram"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg></a>
                        <a href="https://x.com/beisjoven" target="_blank" rel="noopener" aria-label="X"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Secciones</h4>
                    <ul>
                        <li><a href="/categoria/mlb">MLB</a></li>
                        <li><a href="/categoria/liga-mexicana">Ligas Mexicanas</a></li>
                        <li><a href="/categoria/seleccion">Selecci√≥n</a></li>
                        <li><a href="/categoria/softbol">Softbol</a></li>
                        <li><a href="/categoria/juvenil">Juvenil</a></li>
                        <li><a href="/categoria/opinion">Opini√≥n</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>M√°s</h4>
                    <ul>
                        <li><a href="/videos">Videos</a></li>
                        <li><a href="/newsletter">Newsletter</a></li>
                        <li><a href="/contacto">Contacto</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© <script>document.write(new Date().getFullYear())</script> Beisjoven. Todos los derechos reservados. | Hecho con ‚öæ en M√©xico</p>
            </div>
        </div>
    </footer>
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Scripts -->
    <script src="/js/supabase.js"></script>
    <script src="/data/database.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/components.js"></script>
    <script src="/js/pages.js"></script>
    <script src="/js/envivo.js"></script>
    <script src="/js/router.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/media-library.js"></script>
    <script src="/js/rich-text-editor.js"></script>
    <script src="/js/article-preview.js"></script>
    <script src="/js/admin.js"></script>
    <script>
        // ================================================
        // FLAG WBC 2026
        // false = hub oculto (producci√≥n hasta 1 mar)
        // true  = hub visible ‚Äî cambiar esta l√≠nea para activar
        // ================================================
        const HUB_WBC_LIVE = false;

        document.addEventListener('DOMContentLoaded', function() {
            // Mostrar fecha actual
            const dateElement = document.getElementById('current-date');
            if (dateElement) {
                const options = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
                const today = new Date().toLocaleDateString('es-MX', options);
                dateElement.textContent = 'üìÖ ' + today.charAt(0).toUpperCase() + today.slice(1);
            }

            // Registrar rutas p√∫blicas
            Router.register('/', Pages.home);
            Router.register('/categoria/:slug', Pages.category);
            Router.register('/articulo/:slug', Pages.article);
            Router.register('/video/:slug', Pages.video);
            Router.register('/videos', Pages.videos);
            Router.register('/buscar', Pages.search);
            Router.register('/posiciones', Pages.standings);
            Router.register('/autor/:slug', Pages.author);
            Router.register('/envivo', EnVivoPages.main);
            Router.register('/newsletter', Pages.newsletter);
            Router.register('/suscribete', Pages.newsletter);
            Router.register('/contacto', Pages.contacto);

            // Hub WBC 2026 ‚Äî controlado por flag
            Router.register('/wbc-2026', function(ctx) {
                const previewKey = new URLSearchParams(window.location.search).get('preview');
                if (!HUB_WBC_LIVE && previewKey !== 'bj2026') { Router.navigate('/'); return; }
                Pages.wbc2026(ctx);
            });

            // Registrar rutas del admin
            Router.register('/login', AdminPages.login);
            Router.register('/admin', AdminPages.dashboard);
            Router.register('/admin/articulos', AdminPages.articles);
            Router.register('/admin/nuevo', AdminPages.editor);
            Router.register('/admin/editar/:id', AdminPages.editor);
            Router.register('/admin/medios', AdminPages.medios);
            Router.register('/admin/videos', AdminPages.videosList);
            Router.register('/admin/videos/nuevo', AdminPages.videoEditor);
            Router.register('/admin/videos/editar/:id', AdminPages.videoEditor);

            // Mostrar/ocultar enlace WBC en nav seg√∫n flag
            const navWbc = document.getElementById('nav-wbc');
            if (navWbc) navWbc.style.display = HUB_WBC_LIVE ? '' : 'none';

            // Iniciar auth y luego router
            Auth.init().then(() => {
                Router.init();
            });

            // Funci√≥n para mostrar/ocultar header y footer
            function updateLayout() {
                const path = window.location.pathname;
                const isAdmin = path.startsWith('/admin') || path === '/login';
                const publicHeader = document.getElementById('public-header');
                const mainHeader = document.getElementById('main-header');
                const mainFooter = document.getElementById('main-footer');
                if (isAdmin) {
                    if (publicHeader) publicHeader.style.display = 'none';
                    if (mainHeader) mainHeader.style.display = 'none';
                    if (mainFooter) mainFooter.style.display = 'none';
                } else {
                    if (publicHeader) publicHeader.style.display = 'block';
                    if (mainHeader) mainHeader.style.display = 'block';
                    if (mainFooter) mainFooter.style.display = 'block';
                }
            }

            updateLayout();
            const originalNavigate = Router.navigate.bind(Router);
            Router.navigate = function(path) {
                originalNavigate(path);
                setTimeout(updateLayout, 10);
            };
        });

        function handleSearch(event) {
            event.preventDefault();
            const headerInput = document.getElementById('header-search');
            const searchInput = document.getElementById('search-input');
            const input = (searchInput && searchInput.value.trim()) ? searchInput : headerInput;
            if (input && input.value.trim()) {
                Router.navigate('/buscar?q=' + encodeURIComponent(input.value.trim()));
                input.value = '';
            }
        }
    </script>
</body>
</html>